<?php/* * To change this license header, choose License Headers in Project Properties. * To change this template file, choose Tools | Templates * and open the template in the editor. *//** * Description of Text * * @author Alex */class Radiobutton extends Field{    var $table = '';    var $option;    var $column;        public function setTable($data)     {        $this->table = $data;    }    public function getTable()     {        return $this->table;    }        public function setOptions($data)    {        $this->options = $data;    }        public function getOptions()    {        return $this->options;    }        /**     * Campo para configurar os campos de value e texto do checkboxes     *      * @param type $option coluna da tabela que será o campo value     * @param type $column coluna da tabela que sera o texto visual     */    public function selectOptions($option, $column)    {        $this->option = $option;        $this->column = $column;    }            public function tableData($table)    {        $table->integer($this->getName())->nullable();        return $table;    }        public function render($row)    {        $option = $this->option;        $column = $this->column;        $name   = $this->getName();        //quando faz a renderização o valro é setado diretamente no checkbox        //isso facilita pois cada field tem suas particularidades        if($row && $row->$name)        {            $chacked = $row->$name;        }        else        {            $chacked = null;        }                $required = '';        if($this->getRequired())           $required = '<span class="required">*</span>';                $subTitle = '';        if($this->getSubTitle())            $subTitle = '<span class="subtitle">'.$this->getSubTitle().'</span>';                $html = '<div class="form-group">';           $html .= Form::label($name, $this->getTitle());            $html .= $required;            $html .= $subTitle;            $html .= '<div class="container marketing">';                $i = 0;                if($this->getTable())                {                    $values  = DB::table($this->gettable())->select($option, $column)->get();                    foreach($values as $value)                    {                        $html .=  '<div class="col-md-4" style="padding-left: 0px">                                      <div class="radio">                                          '.Form::label($name.'_'.$i, $value->$column)                                          .Form::radio($name, $value->$option, ($value->$option == $chacked)? true: false, array('id' => $name.'_'.$i)).'                                      </div>                                   </div>';                        $i++;                    }                }                else                {                    foreach($this->options as $option => $value)                    {                        $html .=  '<div class="col-md-4" style="padding-left: 0px">                                      <div class="radio">                                          '.Form::label($name.'_'.$i, $value)                                          .Form::radio($name, $option, ($option == $chacked)? true: false, array('id' => $name.'_'.$i)).'                                      </div>                                   </div>';                        $i++;                    }                }           $html .= '</div>';        $html .= '</div>';                return $html;    }        /**     * Faz o tratamento dos dados para serem mostrados na listagem     *      * @param object $row     * @return string     */    public function treatmentValue($row)    {		$name   = $this->getName();		if($this->getTable())		{			$colum  = $this->column;			$values = DB::table($this->gettable())->select($colum)->where('id', $row->$name)->first();			if($values)			{				return $values->$colum;			}		}		else		{			$option = $this->getOptions();			return $option[$row->$name];		}				return '';    }}